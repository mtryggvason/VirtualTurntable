(this.webpackJsonpVirtualTurntable=this.webpackJsonpVirtualTurntable||[]).push([[0],{549:function(e,t,a){e.exports=a.p+"static/media/ticket_to_tene.16b8560c.png"},550:function(e,t,a){e.exports=a.p+"static/media/bandcamp.a37708ba.png"},714:function(e,t,a){e.exports=a(757)},719:function(e,t,a){},752:function(e,t,a){},753:function(e,t,a){},757:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n),o=a(548),i=a.n(o),c=(a(719),a(6)),l=a.n(c),s=a(9),u=a(14),f=a(761),m=a(760),p=a(549),v=a.n(p),d=a(550),b=a.n(d),h=a(551),g=a(76),y=a(701),w=a.n(y);a(751);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var k=r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Group",transform:"translate(3.000000, 3.000000)",fillRule:"nonzero",stroke:"#fff"},r.a.createElement("path",{d:"M50,100 C77.6142375,100 100,77.6142375 100,50 C100,22.3857625 77.6142375,0 50,0 C22.3857625,0 0,22.3857625 0,50",id:"Oval",strokeWidth:5}),r.a.createElement("polygon",{id:"Triangle",fill:"#fff",transform:"translate(41.882241, 98.882241) rotate(273.000000) translate(-41.882241, -98.882241) ",points:"41.8822412 91.3822412 49.3822412 106.382241 34.3822412 106.382241"}))),j=function(e){var t=e.svgRef,a=e.title,n=O(e,["svgRef","title"]);return r.a.createElement("svg",E({viewBox:"0 0 106 111",ref:t},n),a?r.a.createElement("title",null,a):null,k)},N=r.a.forwardRef((function(e,t){return r.a.createElement(j,E({svgRef:t},e))})),x=(a.p,a(752),a(753),a(702)),M=!1,C=[],D=[],R=new(a.n(x).a);g.a.prototype._reverse=function(){return this.loaded&&((M=!M)?(this._buffer.copyToChannel(D[0],0,0),this._buffer.copyToChannel(D[1],1,0)):(this._buffer.copyToChannel(C[0],0,0),this._buffer.copyToChannel(C[1],1,0))),this},window.location.protocol;var S=function(e,t){var a=Math.round(60*e/360);if(t){var n=Math.abs(a/45);console.log(n),t.playbackRate=n>.1?n:0;var r=t.reverse;t.reverse=a>0,r!==t.reverse&&(_=t.buffer.duration-_,_=Math.max(Math.min(_,t.buffer.duration),0),t.start(0,_))}},T=function(e,t,a,n,r){var o=Math.round(60*e/360),i=t+Math.abs(o/45)*a/1e3;return Math.max(Math.min(i,r),n)},_=0,P=0;var B=function(e){return Object(n.useEffect)((function(){var t=new g.b({onload:function(){for(var a=0;a<t._buffer.numberOfChannels;a++){var n=t._buffer.getChannelData(a);C.push(n.slice()),D.push(n.slice().reverse())}e.onload(t)},url:e.url,loop:e.loop}).toDestination()}),[e]),null},W=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!1),c=Object(u.a)(i,2),p=c[0],d=c[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),E=y[0],O=y[1],k=Object(n.useState)(!1),j=Object(u.a)(k,2),x=j[0],M=j[1];Object(n.useEffect)((function(){O(!window.DeviceOrientationEvent||!h.isMobile)}),[]);var C=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.start(),a.playbackRate=0,!window.DeviceOrientationEvent){e.next=12;break}if(!DeviceMotionEvent.requestPermission){e.next=9;break}return e.next=6,DeviceMotionEvent.requestPermission();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="granted";case 10:("granted"===(t=e.t0)||t.result&&"granted"===t.result)&&(n=Object(f.a)(window,"devicemotion").pipe(Object(m.a)(10)),R.enable(),d(!0),M(!0),P=new Date,n.subscribe((function(e){_=T(e.rotationRate.gamma,_,new Date-P,0,a.buffer.duration),S(e.rotationRate.gamma,a),P=new Date})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"app"},r.a.createElement(B,{url:"./socks.mp3",onload:function(e){a.start||o(e)},loop:!0}),r.a.createElement("div",{className:"title-wrapper"},r.a.createElement("span",{className:"playing-title "},"Now Playing"),r.a.createElement("div",{className:"track-title"},"Moff & Tarkin - Socks by the Sofa")),r.a.createElement("div",{className:"vinyl-wrapper"},r.a.createElement("img",{alt:"vinyl",className:"vinyl-image  ".concat(a?"":"loading"),src:v.a}),r.a.createElement("div",{className:"vinyl-dot center"}),!a.start&&r.a.createElement(w.a,{type:"Audio",className:"center",color:"#00BFFF",height:100,width:100}),a.start&&!p&&r.a.createElement("button",{className:"center",onClick:C},"Get Started"),p&&x&&r.a.createElement("div",{className:"message center"},r.a.createElement("img",{alt:"close",onClick:function(){return M(!1)},className:"message-close",src:"close.png"}),r.a.createElement(N,{className:"rotate rotating-svg"}),"Turn off silent mode and spin the phone to hear the song play"),E&&r.a.createElement("div",{className:"message"},"Looks like your device does not support the",r.a.createElement("a",{style:{marginLeft:"5px"},href:"https://caniuse.com/#feat=deviceorientation"},"Device Motion event"),". ",r.a.createElement("br",null),"Please try again with a mobile device")),r.a.createElement("a",{className:"buy-wrapper",href:"https://lagaffetales.bandcamp.com"},"Buy on"," ",r.a.createElement("img",{className:"buy-wrapper-image",alt:"bandcamp",src:b.a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[714,1,2]]]);
//# sourceMappingURL=main.f8f8a5f4.chunk.js.map