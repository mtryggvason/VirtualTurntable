{"version":3,"sources":["svgs/rotate.svg","App.js","serviceWorker.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","id","stroke","strokeWidth","fill","fillRule","transform","d","points","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","reversed","buffers","reversedBuffers","noSleep","NoSleep","Buffer","_reverse","loaded","_buffer","copyToChannel","window","location","protocol","setRPM","gamma","player","rpm","Math","round","playbackRate","abs","reverse","console","log","offset","buffer","duration","max","min","start","updateOffset","timeSinceLastUpdate","minValue","maxValue","tmp","lastRoationTime","PlayerComponent","useEffect","Player","onload","numberOfChannels","getChannelData","push","slice","url","loop","toDestination","App","useState","setPlayer","playing","setPlaying","showMessage","setShowMessage","showRotatingMessage","setShowRotatingMessage","DeviceOrientationEvent","isMobile","className","p","alt","src","type","color","height","width","onClick","a","async","DeviceMotionEvent","requestPermission","response","result","stream","fromEvent","pipe","throttleTime","enable","context","updateInterval","Date","subscribe","e","rotationRate","style","marginLeft","href","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5b999ecb.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Page-1\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(3.000000, 3.000000)\",\n  fillRule: \"nonzero\",\n  stroke: \"#fff\"\n}, React.createElement(\"path\", {\n  d: \"M50,100 C77.6142375,100 100,77.6142375 100,50 C100,22.3857625 77.6142375,0 50,0 C22.3857625,0 0,22.3857625 0,50\",\n  id: \"Oval\",\n  strokeWidth: 5\n}), React.createElement(\"polygon\", {\n  id: \"Triangle\",\n  fill: \"#fff\",\n  transform: \"translate(41.882241, 98.882241) rotate(273.000000) translate(-41.882241, -98.882241) \",\n  points: \"41.8822412 91.3822412 49.3822412 106.382241 34.3822412 106.382241\"\n})));\n\nvar SvgRotate = function SvgRotate(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 106 111\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRotate, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/rotate.b424f259.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport { fromEvent } from \"rxjs\";\nimport { throttleTime } from \"rxjs/operators\";\n\nimport { isMobile } from \"react-device-detect\";\nimport { Player, Buffer } from \"tone\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { ReactComponent as Rotate } from \"./svgs/rotate.svg\";\nimport \"./fonts.css\";\nimport \"./App.css\";\nimport NoSleep from \"nosleep.js\";\n\nlet reversed = false;\nlet buffers = [];\nlet reversedBuffers = [];\nconst noSleep = new NoSleep();\n\n/**\n *  Reverse the buffer.\n *  @private\n *  @return {Tone.Buffer} this\n */\nBuffer.prototype._reverse = function () {\n  if (this.loaded) {\n    reversed = !reversed;\n    if (reversed) {\n      this._buffer.copyToChannel(reversedBuffers[0], 0, 0);\n      this._buffer.copyToChannel(reversedBuffers[1], 1, 0);\n    } else {\n      this._buffer.copyToChannel(buffers[0], 0, 0);\n      this._buffer.copyToChannel(buffers[1], 1, 0);\n    }\n  }\n  return this;\n};\n\nif (window.location.protocol !== \"https:\") {\n  /* window.location.href =\n    \"https:\" + window.location.href.substring(window.location.protocol.length);*/\n}\n\nconst setRPM = (gamma, player) => {\n  const rpm = Math.round((gamma * 60) / 360);\n  if (player) {\n    const playbackRate = Math.abs(rpm / 45);\n    if (playbackRate > 0.1) {\n      player.playbackRate = playbackRate;\n    } else {\n      player.playbackRate = 0;\n    }\n    const reverse = player.reverse;\n    player.reverse = rpm > 0;\n    if (reverse !== player.reverse) {\n      console.log(\"REWIND\");\n      offset = player.buffer.duration - offset;\n      offset = Math.max(Math.min(offset, player.buffer.duration), 0);\n      player.start(0, offset);\n    }\n  }\n};\nconst updateOffset = (\n  gamma,\n  offset,\n  timeSinceLastUpdate,\n  minValue,\n  maxValue\n) => {\n  const rpm = Math.round((gamma * 60) / 360);\n  const playbackRate = Math.abs(rpm / 45);\n  const tmp = offset + (playbackRate * timeSinceLastUpdate) / 1000;\n  return Math.max(Math.min(tmp, maxValue), minValue);\n};\n\nlet offset = 0;\nlet lastRoationTime = 0;\nfunction App() {\n  const [player, setPlayer] = useState({});\n  const [playing, setPlaying] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  const [showRotatingMessage, setShowRotatingMessage] = useState(false);\n\n  useEffect(() => {\n    setShowMessage(!window.DeviceOrientationEvent || !isMobile);\n  }, []);\n\n  const activateListener = async () => {\n    debugger\n    if (window.DeviceOrientationEvent) {\n      debugger\n      const response = DeviceMotionEvent.requestPermission\n        ? await DeviceMotionEvent.requestPermission()\n        : \"granted\";\n      if (response === \"granted\" || (response.result && response.result=== \"granted\")) {\n        const stream = fromEvent(window, \"devicemotion\").pipe(throttleTime(5));\n        player.playbackRate = 1;\n        setPlaying(true);\n        player.start();\n        player.playbackRate = 0;\n        noSleep.enable();\n        setPlaying(true);\n        setShowRotatingMessage(true);\n        player.context.updateInterval = 0.01;\n        lastRoationTime = new Date();\n        stream.subscribe((e) => {\n          player.start();\n          offset = updateOffset(\n            e.rotationRate.gamma,\n            offset,\n            new Date() - lastRoationTime,\n            0,\n            player.buffer.duration\n          );\n          setRPM(e.rotationRate.gamma, player);\n          lastRoationTime = new Date();\n        });\n      }\n    }\n  };\n  /*\n  const devTools = (\n    <>\n      <button\n        onClick={() => {\n          player.reverse = !player.reverse;\n          offset = player.buffer.duration - offset;\n          player.start(0, offset);\n        }}\n      >\n        REVERSE\n      </button>\n      <input\n        onChange={(event) => (player.playbackRate = event.target.value)}\n        step=\"0.05\"\n        type=\"range\"\n        min=\"0\"\n        max=\"1\"\n        class=\"slider\"\n        id=\"myRange\"\n      />\n      )\n    </>\n  );\n  */\n  return (\n    <div className=\"app\">\n      <PlayerComponent\n        url=\"./Midday.[mp3|ogg]\"\n        onload={(p) => {\n          if (!player.start) {\n            console.log(\"SET PLAYER\");\n            setPlayer(p);\n          }\n        }}\n        loop\n      />\n      <div className=\"title-wrapper\">\n        <span className=\"playing-title \">Now Playing</span>\n        <div className=\"track-title\">Moff & Tarkin - Powerplay</div>\n      </div>\n      <div className=\"vinyl-wrapper\">\n        <img\n          alt=\"vinyl\"\n          className={`vinyl-image  ${player ? \"\" : \"loading\"}`}\n          src=\"man.jpg\"\n        />\n        <div className=\"vinyl-dot center\" />\n        {!player.start && (\n          <Loader\n            type=\"Puff\"\n            className=\"center\"\n            color=\"#00BFFF\"\n            height={300}\n            width={300}\n          />\n        )}\n        {player.start && !playing && (\n          <button className=\"center\" onClick={activateListener}>\n            Get Started\n          </button>\n        )}\n        {playing && showRotatingMessage && (\n          <div className=\"message center\">\n            <img\n              alt=\"close\"\n              onClick={() => setShowRotatingMessage(false)}\n              className=\"message-close\"\n              src=\"close.png\"\n            ></img>\n            <Rotate className=\"rotate rotating-svg\"></Rotate>\n            Turn off silent mode and rotate the phone to hear the song play\n          </div>\n        )}\n        {showMessage && (\n          <div className=\"message\">\n            Looks like your device does not support the\n            <a\n              style={{ marginLeft: \"5px\" }}\n              href=\"https://caniuse.com/#feat=deviceorientation\"\n            >\n              Device Motion event\n            </a>\n            . <br />\n            Please try again with a mobile device\n          </div>\n        )}\n      </div>\n      <a className=\"buy-wrapper\" href=\"https://lagaffetales.bandcamp.com\">\n        Buy on{\" \"}\n        <img\n          className=\"buy-wrapper-image\"\n          alt=\"bandcamp\"\n          src=\"bandcamp-logotype-light-512.png\"\n        />\n      </a>\n    </div>\n  );\n}\n\nconst PlayerComponent = (props) => {\n  useEffect(() => {\n    const player = new Player({\n      onload: () => {\n        for (var i = 0; i < player._buffer.numberOfChannels; i++) {\n          const buffer = player._buffer.getChannelData(i);\n          buffers.push(buffer.slice());\n          reversedBuffers.push(buffer.slice().reverse());\n        }\n        props.onload(player);\n      },\n      url: props.url,\n      loop: props.loop,\n    }).toDestination();\n  }, []);\n  return null;\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}